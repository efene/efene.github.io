

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Language Reference &mdash; Efene Programming Language 1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Efene Programming Language 1.0 documentation" href="index.html"/>
        <link rel="prev" title="Quick Start" href="quickstart.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Efene Programming Language</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Language Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#boolean">Boolean</a></li>
<li class="toctree-l2"><a class="reference internal" href="#numbers">Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#strings">Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lists">Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="#maps">Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tuples">Tuples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#atoms">Atoms</a></li>
<li class="toctree-l2"><a class="reference internal" href="#process-id-pid">Process Id (Pid)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reference">Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="#function">Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tagged-expressions">Tagged Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#records">Records</a></li>
<li class="toctree-l2"><a class="reference internal" href="#binary">Binary</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Efene Programming Language</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Language Reference</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/language-reference.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="language-reference">
<h1>Language Reference<a class="headerlink" href="#language-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="boolean">
<h2>Boolean<a class="headerlink" href="#boolean" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Boolean_data_type">Boolean Data Type in Wikipedia</a></p>
<p>This is the simplest data type, it can take two values:</p>
<ul class="simple">
<li>true</li>
<li>false</li>
</ul>
<p>Efene has another data type that allows far more flexibility to signal &#8220;states&#8221;
in your program called atoms, they are covered bellow.</p>
</div>
<div class="section" id="numbers">
<h2>Numbers<a class="headerlink" href="#numbers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="integers">
<h3>Integers<a class="headerlink" href="#integers" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Integer_%28computer_science%29">Integer Data Type in Wikipedia</a></p>
<p>This data type represents an integer number, it has only one syntax, the one
you are used to, the following are examples of integers:</p>
<ul class="simple">
<li>0</li>
<li>1</li>
<li>42</li>
<li>9002</li>
</ul>
<p>Efene doesn&#8217;t have notation for hexadecimal, binary or other bases, they can
be added using tagged data which is covered below.</p>
</div>
<div class="section" id="floats">
<h3>Floats<a class="headerlink" href="#floats" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Floating_point">Float Data Type in Wikipedia</a></p>
<p>This data type represents a decimal number, it has only one syntax, the one
you are used to, the following are examples of floats:</p>
<ul class="simple">
<li>0.0</li>
<li>1.2</li>
<li>42.3</li>
<li>9002.2009</li>
</ul>
<p>Efene doesn&#8217;t have notation for scientific notation, they may be added in the
future, for now it can be added using tagged data which is covered below.</p>
</div>
</div>
<div class="section" id="strings">
<h2>Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/String_%28computer_science%29">String Data Type in Wikipedia</a></p>
<p>There are two ways of representing text (strings) in erlang they have different
pros and cons, we won&#8217;t cover them here.</p>
<div class="section" id="list-strings">
<h3>List Strings<a class="headerlink" href="#list-strings" title="Permalink to this headline">¶</a></h3>
<p>A List String is simply a list of characters represented as numbers, it&#8217;s
actually not a data type on itself &#8220;hello&#8221; is shorthand for the list [104,101,108,108,111].</p>
<p>List Strings are enclosed in double quotes (&#8221;), examples of List Strings:</p>
<ul class="simple">
<li>&#8220;&#8221;</li>
<li>&#8220;a&#8221;</li>
<li>&#8220;hi there&#8221;</li>
<li>&#8220;this &#8220;is&#8221; also a string&#8221;</li>
</ul>
</div>
<div class="section" id="binary-strings">
<h3>Binary Strings<a class="headerlink" href="#binary-strings" title="Permalink to this headline">¶</a></h3>
<p>A Binary String is a binary representation of text, Binary Strings are enclosed
in single quotes (&#8216;), examples of Binary Strings:</p>
<ul class="simple">
<li>&#8216;&#8217;</li>
<li>&#8216;a&#8217;</li>
<li>&#8216;hi there&#8217;</li>
<li>&#8216;this &#8216;is&#8217; also a string&#8217;</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Erlang atom syntax with single quotes is supported in efene with tagged
data, see below.</p>
</div>
</div>
</div>
<div class="section" id="lists">
<h2>Lists<a class="headerlink" href="#lists" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/List_%28abstract_data_type%29">List Data Type in Wikipedia</a></p>
<p>A List is a variable sequence of elements, it&#8217;s represented by a comma separated sequence
of other data types (including nested lists) enclosed in opening and closing
square brackets ([ and  ]), examples of lists:</p>
<ul class="simple">
<li>[]</li>
<li>[1]</li>
<li>[1, 2]</li>
<li>[[[]]]</li>
</ul>
<p>the last element of a list can have a trailing comma:</p>
<ul class="simple">
<li>[1,]</li>
<li>[1, 2,]</li>
</ul>
</div>
<div class="section" id="maps">
<h2>Maps<a class="headerlink" href="#maps" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Associative_array">Map Data Type in Wikipedia</a></p>
<p>A Map is a sequence of elements associating keys to values, it&#8217;s represented by a comma separated sequence of association pairs enclosed in opening and closing
curly brackets ({ and }), examples ofmaps</p>
<ul class="simple">
<li>{}</li>
<li>{one: 1}</li>
<li>{one: 1, 1: one}</li>
</ul>
<p>the last element of a map can have a trailing comma:</p>
<ul class="simple">
<li>{one: 1,}</li>
<li>{one: 1, 1: one,}</li>
</ul>
</div>
<div class="section" id="tuples">
<h2>Tuples<a class="headerlink" href="#tuples" title="Permalink to this headline">¶</a></h2>
<p>A Tuple is a fixed sequence of elements, it&#8217;s represented by a comma separated sequence
of other data types (including nested tuples) enclosed in opening and closing
parenthesis ( and ), examples of tuples:</p>
<ul class="simple">
<li>()</li>
<li>(1,)</li>
<li>(1, 2)</li>
<li>(((),),)</li>
</ul>
<p>the last element of a list can have a trailing comma, it&#8217;s obligatory in one
item tuples to distinguish from an expression in parenthesis:</p>
<ul class="simple">
<li>(1,)</li>
<li>(1, 2,)</li>
</ul>
</div>
<div class="section" id="atoms">
<h2>Atoms<a class="headerlink" href="#atoms" title="Permalink to this headline">¶</a></h2>
<p>An atom is a literal, a constant with name, examples of atoms:</p>
<ul class="simple">
<li>ok</li>
<li>error</li>
<li>hi_there</li>
</ul>
</div>
<div class="section" id="process-id-pid">
<h2>Process Id (Pid)<a class="headerlink" href="#process-id-pid" title="Permalink to this headline">¶</a></h2>
<p>A process identifier, pid, identifies a process.</p>
<p>spawn/1,2,3,4, spawn_link/1,2,3,4 and spawn_opt/4,
which are used to create processes, return values of this type.</p>
</div>
<div class="section" id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<p>A reference is a term which is unique in an Erlang runtime system, created by
calling make_ref/0.</p>
</div>
<div class="section" id="function">
<h2>Function<a class="headerlink" href="#function" title="Permalink to this headline">¶</a></h2>
<div class="section" id="anonymouse-functions">
<h3>Anonymouse Functions<a class="headerlink" href="#anonymouse-functions" title="Permalink to this headline">¶</a></h3>
<p>Functions can be created and assigned to variables inside other functions, the
syntax is:</p>
<div class="highlight-python"><div class="highlight"><pre>fn [case [parameters]: body]+ end
</pre></div>
</div>
<p>for example, the simples case with one function clause:</p>
<div class="highlight-python"><div class="highlight"><pre>F = fn case 1: one end
</pre></div>
</div>
<p>we can use pattern matching to match different cases:</p>
<div class="highlight-python"><div class="highlight"><pre>F1 = fn
    case 1: one
    case _: other
end
</pre></div>
</div>
<p>in the case where the last clause is a &#8220;catch all&#8221; clause we can use else instead:</p>
<div class="highlight-python"><div class="highlight"><pre>F2 = fn
    case 1: one
    else: other
end
</pre></div>
</div>
</div>
<div class="section" id="named-functions">
<h3>Named Functions<a class="headerlink" href="#named-functions" title="Permalink to this headline">¶</a></h3>
<p>Named Functions exist to refer to a function inside of it to do recursion as you
would do with a toplevel function.</p>
<p>The syntax is the same as an anonymous function but with a variable as it&#8217;s name,
for example:</p>
<div class="highlight-python"><div class="highlight"><pre>F3 = fn Fact
    case 0: 1
    case N: N * Fact(N - 1)
end
</pre></div>
</div>
<p>Notice that the resulting function is stored in F3 and you must use that name
to call it, the &#8220;named&#8221; part is only to refer to itself, if a function doesn&#8217;t
refer to itself then you don&#8217;t need a named function.</p>
<p>You can see more details and examples in this article: <a class="reference external" href="http://joearms.github.io/2014/02/01/big-changes-to-erlang.html">http://joearms.github.io/2014/02/01/big-changes-to-erlang.html</a></p>
</div>
<div class="section" id="function-references">
<h3>Function References<a class="headerlink" href="#function-references" title="Permalink to this headline">¶</a></h3>
<p>If we want to pass a reference to a function as a parameter or set it to a
variable we can use the function reference syntax.</p>
<p>It&#8217;s composed of the keyword <strong>fn</strong>, the function name, including module if
needed and it&#8217;s arity, that is, the number of parameters it receives.</p>
<p>Examples:</p>
<div class="highlight-python"><div class="highlight"><pre>CR1 = fn a:0
CR3 = fn a.b:2
CR4 = fn a.B:3
CR5 = fn A.b:4
CR6 = fn A.B:5
</pre></div>
</div>
<p>Notice you can&#8217;t make a function reference to a function stored on a variable like this:</p>
<div class="highlight-python"><div class="highlight"><pre>CR2 = fn A:1
</pre></div>
</div>
<p>since it&#8217;s already a function reference on itself, this will result in an error.</p>
</div>
</div>
<div class="section" id="tagged-expressions">
<h2>Tagged Expressions<a class="headerlink" href="#tagged-expressions" title="Permalink to this headline">¶</a></h2>
<p>Expressions and data types can be tagged in efene, this is insipired from
<a class="reference external" href="https://github.com/edn-format/edn">the edn format</a>.</p>
<p>This allows to transform a value or expression at compile time to some other
value or expression by tagging it.</p>
<p>a tag is comprised of the # sign followed by a path, that is a sequence of
atoms or variables joined with dots, examples of tagged values:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#atom &quot;I&#39;m an atom&quot;</span>
<span class="c">#c &quot;A&quot;</span>
<span class="c">#_ &quot;this is ignored&quot;</span>
</pre></div>
</div>
<p>The first case transforms the string to an atom at compile time, it has the same
effect as the single quotes in erlang.</p>
<p>The second case transforms a string of length 1 into a character type, it has
the same effect as the dolar sign in erlang.</p>
<p>The last one is quite useful, it just &#8220;ignores&#8221; the expression or value that
follows, actually it doesn&#8217;t ignore it, it just replaces it by a special atom,
as long as you don&#8217;t assign the result or return it the value of the atom
doesn&#8217;t matter.</p>
<p>Efene adds support for some erlang syntax via tagged values and expressions
as you can see above.</p>
<p>In the future this functionality will be provided to compiler extensions that
can convert at compile time values or expressions into extra functionality,
imagine string internationalization, logging, profiling, stdlib type
constructors using values etc.</p>
</div>
<div class="section" id="records">
<h2>Records<a class="headerlink" href="#records" title="Permalink to this headline">¶</a></h2>
<p>A record is a compile time data structure that erlang transforms into tuples at
run time with the name of the record in it, it&#8217;s kind of a named tuple where
at run time field names are translated into tuple indexes.</p>
<p>To declare a record you have to add a record declaration at the top level of
your modules, for example:</p>
<div class="highlight-python"><div class="highlight"><pre>@record(person) -&gt; (name, lastname, sex=female, age)
</pre></div>
</div>
<p>The person part is the name of the record, the items after the arrow in
parenthesis are the record fields, you can provide default values for fields.</p>
<p>To instantiate a record:</p>
<div class="highlight-python"><div class="highlight"><pre>P = #r.person {name: &quot;bob&quot;, lastname: &quot;sponge&quot;, age:29}
</pre></div>
</div>
<p>To update a record:</p>
<div class="highlight-python"><div class="highlight"><pre>P1 = #r.person P#{age:28}
</pre></div>
</div>
<p>To pattern match against a record:</p>
<div class="highlight-python"><div class="highlight"><pre>(#r.person {age: Age}) = P1
</pre></div>
</div>
<p>Since tags can be applied to expressions and the match expression is used after
the first tag we need to wrap the tag and map in parenthesis so it applies
only to the map and not to the whole expression.</p>
</div>
<div class="section" id="binary">
<h2>Binary<a class="headerlink" href="#binary" title="Permalink to this headline">¶</a></h2>
<p>Binary is a data type to express erlang&#8217;s bit syntax, where you can specify
the format of a binary, you can read more at <a class="reference external" href="http://www.erlang.org/doc/reference_manual/expressions.html#bit_syntax">erlang&#8217;s bit syntax docs</a></p>
<p>In efene binaries are implemented using a tagged list that contains a map
for each field describing the format of that field, here is an example covering
all the alternatives:</p>
<div class="highlight-python"><div class="highlight"><pre>#b [{},
    {val: A},
    {size: 8},
    {type: float},
    {sign: unsigned},
    {endianness: big},
    {unit: 8},
    {val: B, size: 8, type: float, sign: signed, endianness: little, unit: 16}]
</pre></div>
</div>
<p>On a field you can specify the variable to match to, the size, type, sign, endianness and unit.</p>
<p>For a detailes explanation of what each of those values do please refer to
<a class="reference external" href="http://www.erlang.org/doc/reference_manual/expressions.html#bit_syntax">erlang&#8217;s bit syntax docs</a>.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="quickstart.html" class="btn btn-neutral" title="Quick Start"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Mariano Guerra.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>